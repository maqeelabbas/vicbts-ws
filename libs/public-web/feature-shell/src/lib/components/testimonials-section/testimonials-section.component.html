<section class="testimonials" aria-labelledby="testimonialsTitle">
  <div class="container">
    <header class="section-header">
      <p class="eyebrow">Client stories</p>
      <h2 class="title" id="testimonialsTitle">Teams trust VicBts to co-create remarkable products</h2>
      <p class="subtitle">
        Our partners span industries, but each engagement is rooted in transparent collaboration, measurable outcomes,
        and a shared passion for product excellence.
      </p>
    </header>

    <div class="slider" role="group" aria-roledescription="carousel">
      <button class="slider-nav prev" type="button" (click)="previous()" aria-label="Previous testimonial">
        <i class="ri-arrow-left-s-line" aria-hidden="true"></i>
      </button>

      <article class="testimonial-card" aria-live="polite">
        <div class="quote-mark" aria-hidden="true">
          <i class="ri-double-quotes-l"></i>
        </div>
        <blockquote>
          {{ currentTestimonial.quote }}
        </blockquote>
        <div class="author">
          <img [src]="currentTestimonial.avatar" [alt]="currentTestimonial.author" loading="lazy" />
          <div>
            <p class="name">{{ currentTestimonial.author }}</p>
            <p class="role">{{ currentTestimonial.role }} Â· {{ currentTestimonial.company }}</p>
            <div class="rating" aria-label="{{ currentTestimonial.rating }} out of 5 stars">
              <i
                *ngFor="let star of [1, 2, 3, 4, 5]"
                class="ri-star-fill"
                [class.filled]="star <= currentTestimonial.rating"
                aria-hidden="true"></i>
            </div>
          </div>
        </div>
      </article>

      <button class="slider-nav next" type="button" (click)="next()" aria-label="Next testimonial">
        <i class="ri-arrow-right-s-line" aria-hidden="true"></i>
      </button>
    </div>

    <div class="slider-dots" role="tablist">
      <button
        *ngFor="let testimonial of testimonials; let i = index"
        class="dot"
        [class.active]="i === currentIndex"
        type="button"
        role="tab"
        [attr.aria-selected]="i === currentIndex"
        [attr.aria-label]="'Show testimonial ' + (i + 1)"
        (click)="goToSlide(i)"></button>
    </div>
  </div>
</section>
